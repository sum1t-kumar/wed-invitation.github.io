<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>An Unfolding Wedding Invitation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;700&family=Great+Vibes&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: #791c1c; /* Deep red background */
            display: flex;
            justify-content: center;
            align-items: center; /* Changed from flex-start to center for vertical centering */
            min-height: 100vh;
            padding: 1rem;
            overflow-y: auto;
            user-select: none;
        }
        
        /* General text and color styles */
        .text-brown { color: #5c3b1c; }
        .text-gold { color: #b79b5c; }
        .text-dark-red { color: #791c1c; }
        .great-vibes { font-family: 'Great Vibes', cursive; }

        /* --- Card Container and Animation --- */
        .card-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            /* Height is now auto to accommodate scrolling */
            height: auto;
            transform-style: preserve-3d;
            margin-top: 5vh;
            margin-bottom: 5vh;
        }

        /* The back of the card, visible after unfolding */
        .card-back {
            position: relative; /* Set to relative */
            width: 100%;
            height: 100%;
            background-color: #fcfcfc;
            border: 2px solid #b79b5c;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border-radius: 1rem;
            overflow: hidden;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            z-index: 10;
        }
        
        /* The front flaps of the card */
        .card-flap {
            position: absolute;
            width: 50.1%; /* Slightly more than 50% to prevent seam */
            height: 100%;
            top: 0;
            background-color: #791c1c; /* The front color */
            transition: transform 2s ease-in-out; /* Changed to 2s */
            backface-visibility: hidden;
            border-top: 2px solid #b79b5c;
            border-bottom: 2px solid #b79b5c;
            border-right: 2px solid #b79b5c;
            z-index: 20;
            cursor: pointer;
        }

        .card-flap.left {
            left: -0.1%; /* Align left and cover seam */
            transform-origin: 100% 50%;
        }

        .card-flap.right {
            left: 50%;
            transform-origin: 0% 50%;
            border-right: none; /* No border on the right flap's outer edge */
            border-left: 2px solid #b79b5c;
        }

        /* Front cover content and styling */
        .cover-content {
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #b79b5c;
            text-align: center;
            padding: 1rem;
            user-select: none;
        }
        
        /* Style for the countdowns for precise alignment */
        .countdown-style {
            position: absolute;
            bottom: 2.5rem; /* Position from the bottom */
            left: 0;
            right: 0;
            text-align: center;
        }

        /* Animated content that appears after opening */
        .animated-content {
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 0.75s ease 0.75s, transform 0.75s ease 0.75s;
        }
        
        .unfolded .animated-content {
            opacity: 1;
            transform: scale(1);
        }

        /* The class added by JS to trigger the opening animation */
        .unfolded .card-flap.left {
            transform: rotateY(-180deg);
        }

        .unfolded .card-flap.right {
            transform: rotateY(180deg);
        }

        /* New styles for the inner card content */
        .inner-background {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3Cstyle%3E.pattern-fill%7Bfill:none;stroke:%23B79B5C;stroke-width:0.25;opacity:0.2;%7D%3C/style%3E%3C/defs%3E%3Cpath class='pattern-fill' d='M25,0 L50,50 L75,0 L50,-50 Z'/%3E%3Cpath class='pattern-fill' d='M0,25 L50,50 L0,75 L-50,50 Z'/%3E%3Cpath class='pattern-fill' d='M25,100 L50,50 L75,100 L50,150 Z'/%3E%3Cpath class='pattern-fill' d='M100,25 L50,50 L100,75 L150,50 Z'/%3E%3C/svg%3E");
            background-size: 150px;
        }
        
        /* Style for the closing page */
        .closing-page {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #fcfcfc;
            opacity: 0;
            transition: opacity 1s ease;
            z-index: 10;
            visibility: hidden;
            border-radius: 1rem;
        }

        .show-closing-page .closing-page {
            opacity: 1;
            visibility: visible;
        }

        .show-closing-page .main-content {
            opacity: 0;
            visibility: hidden;
        }

        /* The class added by JS to trigger the closing animation */
        .is-closing .card-flap.left {
            transform: rotateY(0deg);
        }
        .is-closing .card-flap.right {
            transform: rotateY(0deg);
        }
        
        /* Mobile-specific adjustments */
        @media (max-width: 640px) {
            .card-back {
                padding: 1rem; /* Reduced padding on small screens */
            }
            .great-vibes.text-5xl, .great-vibes.text-6xl {
                font-size: 2.5rem; /* Smaller font for names on mobile */
            }
            .great-vibes.text-4xl {
                font-size: 2rem;
            }
            .text-3xl {
                font-size: 1.5rem;
            }
            .text-lg {
                font-size: 1rem;
            }
            .text-xl {
                font-size: 1.25rem;
            }
            .flex-col {
                flex-direction: column;
            }
            
            /* Cover page specific mobile styles */
            .cover-content .text-4xl {
                font-size: 2.5rem; /* Make 'Invitation' text larger */
            }
            .cover-content .text-5xl {
                font-size: 2.5rem; /* Set a consistent size for names on mobile */
            }
            .cover-content .names {
                display: flex;
                flex-direction: column; /* Stack names on separate lines */
                align-items: center;
            }
            /* Style for the Ganesh image */
            .card-flap.left img {
                height: 60%; /* Adjusted height to be larger */
                width: auto; /* Allow width to scale with height */
            }
            .countdown-style {
                bottom: 1.5rem; /* Adjust position for mobile */
            }
        }

        .unfolded .card-back {
            position: static; /* After unfolding, the card back becomes part of the normal document flow */
        }
    </style>
</head>
<body>

    <div id="cardContainer" class="card-container">
        <div class="card-back p-6 sm:p-12 inner-background">
            <div id="mainContent" class="animated-content w-full max-w-lg space-y-8 overflow-y-auto main-content">
                <div class="text-center">
                    </div>
                
                <div class="text-center space-y-4 text-brown">
                    <p class="great-vibes text-3xl">with joy</p>
                    <p class="text-lg">Mr. R B Choudhary and Mrs. Sudha</p>
                    <p class="text-lg">cordially invite you to attend the</p>
                    <p class="text-lg">WEDDING OF THEIR SON</p>
                </div>
                <div class="text-center text-dark-red">
                    <p class="great-vibes text-5xl sm:text-6xl mb-2">Sumit Kumar</p>
                    <p class="great-vibes text-4xl sm:text-5xl mb-2">&</p>
                    <p class="great-vibes text-5xl sm:text-6xl mb-6">Manjari Singh</p>
                </div>
                                <div class="flex flex-col sm:flex-row justify-between w-full space-y-4 sm:space-y-0 sm:space-x-8 text-brown">
                    <div class="w-full text-center sm:text-left">
                        <p class="font-bold text-xl">TILAK CEREMONY</p>
                        <p class="text-lg">Friday, November 21st, 2025</p>
                        <p class="text-sm">Vill- Nawkarhi, Dist- Madhubani, Bihar</p>
                    </div>
                    <div class="w-full text-center sm:text-right">
                        <p class="font-bold text-xl">WEDDING CEREMONY</p>
                        <p class="text-lg">Wednesday, November 26th, 2025</p>
                        <p class="text-sm">Venue: GAUTAM GARDEN LAWN</p>
                        <p class="text-sm">Azamgarh - Varanasi Rd, Varanasi</p>
                    </div>
                </div>
                <div class="text-center text-brown space-y-4">
                    <p class="font-bold text-lg mt-6">RECEPTION TO FOLLOW</p>
                </div>
            </div>
            
            <div id="closingPage" class="closing-page animated-content inner-background">
                 <h2 class="great-vibes text-dark-red text-6xl text-center">Thank you!</h2>
            </div>
        </div>

        <div id="leftFlap" class="card-flap left">
             <div class="cover-content">
                <img src="ganesh.svg" alt="Ganesh Icon" class="mx-auto" style="height: 50%; width: auto;">
             </div>
             <div id="engagementCountdown" class="countdown-style text-gold px-1"></div>
        </div>
        <div id="rightFlap" class="card-flap right">
            
            <div class="cover-content great-vibes space-y-4 text-center">
                
                <h1 class="text-gold text-4xl">Invitation</h1>
                
                <div class="names">
                    <h2 class="text-gold great-vibes text-5xl">Sumit</h2>
                    <h2 class="text-gold great-vibes text-4xl">&</h2>
                    <h2 class="text-gold great-vibes text-5xl">Manjari</h2>
                </div>
            </div>
            
            <div id="weddingCountdown" class="countdown-style text-gold px-1"></div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Countdown Logic ---
            const engagementEl = document.getElementById('engagementCountdown');
            const weddingEl = document.getElementById('weddingCountdown');

            var engagementDate = new Date('2025-10-11T15:37:25');
            const weddingDate = new Date('2025-11-26T23:50:00');
            const today = new Date();
            today.setHours(0, 0, 0, 0); // Normalize today's date to midnight for accurate day difference
    

            // Update the count down every 1 second
            var x = setInterval(function() {

            // Get today's date and time
            var now = new Date().getTime();
                
            // Find the distance between now and the count down date
            var distance = engagementDate.getTime() - now;
                
            // Time calculations for days, hours, minutes and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
                

            // Engagement Countdown
            if (engagementEl) {
                const timeDiffEngagement = engagementDate.getTime() - today.getTime();
                const daysLeftEngagement = Math.ceil(timeDiffEngagement / (1000 * 3600 * 24));

                if (daysLeftEngagement > 1) {
                    engagementEl.innerHTML = `<span class="text-5xl font-bold block">${days}d ${hours}h ${minutes}m ${seconds}s</span><span class="text-xs">until üíç<br>Engagement</span>`;
                } else if (daysLeftEngagement === 1) {
                    engagementEl.innerHTML = `<span class="text-5xl font-bold block">${hours}h ${minutes}m ${seconds}s</span><span class="text-xs">until üíç<br>Engagement</span>`;
                } else {
                    engagementEl.innerHTML = `<span class="text-2xl">üíç<br>Engagged!</span>`;
                }
            }
            
            

                        // Find the distance between now and the count down date
            var wdistance = weddingDate.getTime() - now;
                
            // Time calculations for days, hours, minutes and seconds
            var wdays = Math.floor(wdistance / (1000 * 60 * 60 * 24));
            var whours = Math.floor((wdistance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var wminutes = Math.floor((wdistance % (1000 * 60 * 60)) / (1000 * 60));
            var wseconds = Math.floor((wdistance % (1000 * 60)) / 1000);

            // Wedding Countdown
            if (weddingEl) {
                const timeDiffWedding = weddingDate.getTime() - today.getTime();
                const daysLeftWedding = Math.ceil(timeDiffWedding / (1000 * 3600 * 24));

                if (daysLeftWedding > 5) {
                    weddingEl.innerHTML = `<span class="text-5xl font-bold block">${wdays}</span><span class="text-xs">days until the<br>Wedding</span>`;
                }else if (daysLeftWedding < 4 && daysLeftWedding > 1) {
                    weddingEl.innerHTML = `<span class="text-5xl font-bold block">${wdays}d ${whours}h ${wminutes}m ${wseconds}s</span><span class="text-xs">until the<br>Wedding</span>`;
                } else if (daysLeftWedding === 1) {
                    weddingEl.innerHTML = `<span class="text-5xl font-bold block">${whours}h ${wminutes}m ${wseconds}s</span><span class="text-xs">until the<br>Wedding</span>`;
                } else {
                    weddingEl.innerHTML = `<span class="text-2xl">Our Wedding day<br>is here!</span>`;
                }
            }

            })

            // --- Existing Card Logic ---
            const cardContainer = document.getElementById('cardContainer');
            const leftFlap = document.getElementById('leftFlap');
            const rightFlap = document.getElementById('rightFlap');
            const mainContent = document.getElementById('mainContent');
            const closingPage = document.getElementById('closingPage');

            const handleClick = () => {
                // If the card is already opened, do nothing
                if (cardContainer.classList.contains('unfolded')) {
                    return;
                }

                // 1. Unfold the card (2-second transition)
                cardContainer.classList.add('unfolded');
                
                // 2. Hide main content and show closing page after 2 seconds
                setTimeout(() => {
                    cardContainer.classList.add('show-closing-page');
                }, 6000); 

                // 3. Start the closing animation after 5 seconds (2 seconds for opening + 3 for content viewing)
                setTimeout(() => {
                    cardContainer.classList.add('is-closing');
                }, 7000); 
                
                // 4. Reset the card after the closing animation is complete (at 7 seconds)
                setTimeout(() => {
                    location.reload();
                    // cardContainer.classList.remove('unfolded', 'show-closing-page', 'is-closing');
                }, 7009); 
            };

            // Add event listeners to the flaps to trigger the animation
            leftFlap.addEventListener('click', handleClick);
            rightFlap.addEventListener('click', handleClick);
            
            // Also add a listener to the whole container, in case the user clicks the center
            cardContainer.addEventListener('click', handleClick);
        });
    </script>
</body>
</html>